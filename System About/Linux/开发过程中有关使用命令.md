# Linux学习

## 开发过程中有关使用命令

### 在Linux的server端调用接口方法

```bash
curl -H "Content-type:application/json"     //请求头 
    -H "Authorization:Bearer 2ef79365-996d-4b27-9e3a-d3a3df7b0dfe"
    -X POST -d '{"serialNo":"4","applyGenre":"naPromotion","originalData":   
         {"approvalStatus":"0","priceBookId":"5","needTDApprove":"1","promotionType":"qqqq","code":null,
          "distributors":"ACCUTECH","keywords":null,"promotionProductBOS":null,"priceListCategory":"PTZ Camera",
          "promotionCode":"qqq","discount":"11","promotionPeriodEnd":"2020-12-26","priceBook":"DNA 2019 Q1 Price Book",
          "promotionDescription":"wwww","promotionRangeBOS":null,"currency":"USD","id":"4","isAllProduct":"1",
          "promotionPeriodBegin":"2020-12-25","class":"class com.dahuatech.salescloud.pos.model.bo.PromotionBO"},
          "code":null,"url":"\/pos\/promotion\/detail?id=4"}'   //POST请求参数
   http://dahua-b.dahua-b-dahua-b.testms.com/dahua-b-common/apply-record/apply   //请求接口位置
```

---

### cat、tail、head、grep、sed查看文件任意几行的数据

```bash
grep -C 5 搜索字段 file     # 显示file文件里匹配 搜索字段 那行以及上下5行
grep -B 5 搜索字段 file     # 显示 搜索字段当行 及前5行
grep -A 5 搜索字段 file     # 显示 搜索字段当行 及后5行

grep ...... | head -10   # grep结果太多， 可否只取前面10行匹配的结果

grep 'xxx' xxx.log* | grep 'xxx'| grep 'xxx' --color
# 使用cat、tail、head组合
# 查看最后1000行的数据 
cat filename | tail -n 1000

# 查看1000到3000行的数据
cat filename | head -n 3000 | tail -n +1000

# 查询指定字符串
cat filename | grep '?????'

cat filename      # 打印文件所有内容
tail -n 1000      # 打印文件最后1000行的数据
tail -n +1000     # 打印文件第1000行开始以后的内容
head -n 1000      # 打印前1000的内容

cat filename | grep "xx"  # 返回包含关键字的行
grep -i "xx" filename  # 同上  

# 使用sed命令
# 显示1000到300行的数据
sed -n '1000,3000p' filename
```

### 使用java -jar 运行Java程序

```bash
nohup java -jar xxx-0.0.1-SNAPSHOT.jar > log.file 2>&1 &
[1] 669
# 上面的2 和 1 的意思如下:
# 0    标准输入（一般是键盘）
# 1    标准输出（一般是显示屏，是用户终端控制台）
# 2    标准错误（错误信息输出）
# 将运行的jar 错误日志信息输出到log.file文件中，然后（>&1）就是继续输出到标准输出(前面加的&，是为了让系统识别是标准输出)，最后一个&,表示在后台运行。

# 669就表示运行的pid，
netstat -anp  可以查看到
kill -9 669(pid) 杀死进程
```
